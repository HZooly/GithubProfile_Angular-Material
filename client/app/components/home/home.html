<div ng-controller="homeController as home" ng-cloak>
	<md-content class="md-padding">
		<md-nav-bar md-selected-nav-item="home.current" nav-bar-aria-label="navigation links">
			<md-nav-item md-nav-click="home.setCurrent('Search')" name="Search">
				Search
			</md-nav-item>
			<md-nav-item md-nav-click="home.setCurrent('User')" name="User">
				User informations
			</md-nav-item>
			<md-nav-item md-nav-click="home.setCurrent('Stars'); home.getStars()" name="Stars">
				Stars
			</md-nav-item>
		</md-nav-bar>

		<div class="ext-content">

			<div ng-if="home.current === 'Search'">
				<md-input-container>
					<label>User</label>
					<input ng-model="home.searchUser">
				</md-input-container>
				<md-button ng-click="home.search()" class="md-icon-button" aria-label="Search">
					<i class="fa fa-search" aria-hidden="true"></i>
				</md-button>
			</div>

			<div flex-offset="25" flex="50" layout="column" ng-if="home.current === 'User'">
				<div ng-if="home.userLoading" layout="row" layout-sm="column" layout-align="space-around">
					<md-progress-circular md-mode="indeterminate"></md-progress-circular>
				</div>
				<md-card ng-if="!home.userLoading">
					<md-card-title>
						<md-card-title-text>
							<span class="md-headline">{{home.user.login}} <a href="{{home.user.html_url}}" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a></span>
							<span class="md-subhead">Created at: {{home.user.created_at | date}}</span>
							<span class="md-subhead">{{home.user.public_repos}} public repositories</span>
							<span ng-if="home.user.location != null" class="md-body-2">From {{home.user.location}}</span>
						</md-card-title-text>
						<md-card-title-media>
							<div class="md-media-lg card-media"><img ng-src="{{home.user.avatar_url}}" /></div>
						</md-card-title-media>
					</md-card-title>
					<md-card-actions layout="row" layout-align="end center">
						<md-button>{{home.user.followers}} Followers</md-button>
						<md-button>{{home.user.following}} Following</md-button>
					</md-card-actions>
				</md-card>
			</div>

			<div ng-if="home.current === 'Stars'">
				<div ng-if="home.starLoading" layout="row" layout-sm="column" layout-align="space-around">
					<md-progress-circular md-mode="indeterminate"></md-progress-circular>
				</div>

				<md-table-container ng-if="!home.starLoading">
					<table md-table>
						<thead md-head>
							<tr md-row>
								<th md-column><span>Name</span></th>
								<th md-column><span>Owner</span></th>
								<th md-column><span>Forks</span></th>
								<th md-column><span>Stars</span></th>
								<th md-column><span>Created</span></th>
							</tr>
						</thead>
						<tbody md-body>
							<tr md-row ng-repeat="star in home.stars">
								<td md-cell>
									<strong><a href="{{star.html_url}}" target="_blank">{{star.name}}</a></strong>
								</td>
								<td md-cell>
									<a href="{{star.owner.html_url}}" target="_blank">{{star.owner.login}}</a>
								</td>
								<td md-cell>
									{{star.forks}}
								</td>
								<td md-cell>
									{{star.stargazers_count}}
								</td>
								<td md-cell>
									{{star.created_at | date}}
								</td>
							</tr>
						</tbody>
					</table>
					<div class="md-table-footer" layout="row">
						<!-- <md-button class="md-primary">Page {{this.currentPage}}/{{this.maxPage}}</md-button>
						<md-button ng-click="this.changePage('-1')"><</md-button>
						<md-button ng-click="this.changePage('1')">></md-button> -->
					</div>
				</md-table-container>
			</div>
		</div>


	</md-content>
</div>
